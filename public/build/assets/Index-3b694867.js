import{T as w,r as x,O as v,s as m,H as C,o as r,l as h,w as d,a as B,b as t,e as y,v as g,c as n,g as i,j as A,t as a,u as N,i as q,d as S,h as M,F as V}from"./app-b78d6429.js";import{l as T}from"./lodash-838827cb.js";import{_ as D}from"./AuthenticatedLayout-22167254.js";import{S as _}from"./sweetalert2.esm.all-509645c6.js";import"./ApplicationLogo-0aef615f.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ResponsiveNavLink-c2d65a8c.js";const E=t("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},"List of Medicines",-1),H={class:"py-12"},$={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},L={class:"mb-6"},P={class:"relative"},Q=t("div",{class:"absolute inset-y-0 left-3 flex items-center"},[t("svg",{class:"w-5 h-5 text-black",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1),U={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},j={class:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400"},F=t("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[t("tr",null,[t("th",{scope:"col",class:"px-6 py-3"},"Name"),t("th",{scope:"col",class:"px-6 py-3"},"Low Price"),t("th",{scope:"col",class:"px-6 py-3"},"Median Price"),t("th",{scope:"col",class:"px-6 py-3"},"Highest Price"),t("th",{scope:"col",class:"px-6 py-3"},"Quantity"),t("th",{scope:"col",class:"px-6 py-3"},"Dosage"),t("th",{scope:"col",class:"px-6 py-3"},"Exp Date"),t("th",{scope:"col",class:"px-6 py-3"},"Reserve")])],-1),O={key:0},z=t("td",{colspan:"8",class:"px-6 py-4 text-center text-gray-500"}," No medicines found ",-1),I=[z],R={scope:"row",class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"},G={class:"px-6 py-4"},J={class:"px-6 py-4"},K={class:"px-6 py-4"},W={class:"px-6 py-4"},X=["onUpdate:modelValue","max"],Y={class:"px-6 py-4"},Z={class:"px-6 py-4"},tt={class:"flex px-6 py-4"},pt={__name:"Index",props:{medicines:{type:Array,default:()=>[]}},setup(c){const o=w({medicine_id:null,name:"",lprice:0,mprice:0,hprice:0,quantity:1,dosage:"",expdate:""});function f(e){e&&_.fire({title:"Add to Cart",text:`Are you sure you want to add ${e.name||"this medicine"} (Quantity: ${e.quantity||1}) to your cart?`,icon:"question",showCancelButton:!0,confirmButtonText:"Add to Cart",confirmButtonColor:"#28a745",cancelButtonColor:"gray",cancelButtonText:"Cancel"}).then(l=>{l.isConfirmed&&(o.medicine_id=e.id,o.name=e.name,o.lprice=e.lprice,o.mprice=e.mprice,o.hprice=e.hprice,o.quantity=e.quantity,o.dosage=e.dosage,o.expdate=e.expdate,o.post(route("cart.store"),{onSuccess:()=>{_.fire({icon:"success",title:"Added!",text:"Medicine added to your cart successfully.",timer:3e3,showConfirmButton:!1,toast:!0,position:"top-end",background:"#B5C99A",color:"#000"})}}))})}x(!1);const p=x(""),b=T.debounce(e=>{v.get(route("medicines.index"),{search:e},{preserveState:!0,preserveScroll:!0})},300);return m(p,e=>{b(e)}),(e,l)=>{const k=C("Head");return r(),h(D,null,{header:d(()=>[E]),default:d(()=>[B(k,{title:"Medicines"}),t("main",null,[t("div",H,[t("div",$,[t("div",L,[t("div",P,[y(t("input",{"onUpdate:modelValue":l[0]||(l[0]=s=>p.value=s),type:"text",placeholder:"Search medicines by name or dosage...",class:"w-4/12 px-10 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white dark:border-gray-600"},null,512),[[g,p.value]]),Q])]),t("div",U,[t("table",j,[F,t("tbody",null,[!c.medicines||c.medicines.length===0?(r(),n("tr",O,I)):i("",!0),(r(!0),n(V,null,A(c.medicines,s=>(r(),n("tr",{key:(s==null?void 0:s.id)||e.index,class:"odd:bg-white odd:dark:bg-gray-900 even:bg-gray-50 even:dark:bg-gray-800 border-b dark:border-gray-700"},[t("th",R,a((s==null?void 0:s.name)||"N/A"),1),t("td",G,"₱"+a((s==null?void 0:s.lprice)||"0"),1),t("td",J,"₱"+a((s==null?void 0:s.mprice)||"0"),1),t("td",K,"₱"+a((s==null?void 0:s.hprice)||"0"),1),t("td",W,[y(t("input",{type:"number","onUpdate:modelValue":u=>s.quantity=u,min:"1",max:(s==null?void 0:s.quantity)||1,class:"w-20 p-1 border border-gray-300 rounded dark:bg-gray-800 dark:text-white"},null,8,X),[[g,s.quantity,void 0,{number:!0}]])]),t("td",Y,a((s==null?void 0:s.dosage)||"N/A"),1),t("td",Z,a((s==null?void 0:s.expdate)||"N/A"),1),t("td",tt,[s?(r(),h(N(q),{key:0,class:"px-4 py-2 ml-4 bg-[#28a745] hover:bg-[#D2E0BE] text-white rounded",onClick:S(u=>f(s),["prevent"]),href:"#"},{default:d(()=>[M(" Add ")]),_:2},1032,["onClick"])):i("",!0)])]))),128))])])])])])])]),_:1})}}};export{pt as default};
