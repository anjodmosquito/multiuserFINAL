import{r as n,o as c,c as u,a as s,u as y,w as o,F as b,Z as M,b as t,e as w,v as V,f as $,i as A,h as m,j as N,t as r,n as C,g as T,O as D}from"./app-b78d6429.js";import{_ as O}from"./AdminAuthenticatedLayout-aea9e875.js";import{_ as B}from"./Pagination-70a1e1d5.js";import{_ as F}from"./Modal-6605ecd7.js";import{_ as H,a as I}from"./DangerButton-a773f028.js";import{f as P}from"./format-66ee9ebe.js";import"./ApplicationLogo-0aef615f.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./ResponsiveNavLink-c2d65a8c.js";const U=t("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"},"Announcements",-1),z={class:"py-12"},E={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},L={class:"bg-white dark:bg-gray-800 overflow-hidden shadow-sm sm:rounded-lg"},Z={class:"p-6 text-gray-900 dark:text-gray-100"},q={class:"flex flex-col sm:flex-row justify-between mb-6 gap-4"},G={class:"flex flex-col sm:flex-row gap-4"},J={class:"flex items-center"},K={class:"flex items-center"},Q=t("option",{value:""},"All Status",-1),R=t("option",{value:"draft"},"Draft",-1),W=t("option",{value:"published"},"Published",-1),X=[Q,R,W],Y=t("i",{class:"fas fa-plus mr-2"},null,-1),tt={class:"overflow-x-auto bg-white dark:bg-gray-800 rounded-lg shadow"},et={class:"w-full whitespace-nowrap"},st=t("thead",null,[t("tr",{class:"text-left font-bold bg-gray-50 dark:bg-gray-700"},[t("th",{class:"px-6 py-3 text-gray-600 dark:text-gray-200"},"Title"),t("th",{class:"px-6 py-3 text-gray-600 dark:text-gray-200"},"Status"),t("th",{class:"px-6 py-3 text-gray-600 dark:text-gray-200"},"Published At"),t("th",{class:"px-6 py-3 text-gray-600 dark:text-gray-200"},"Created At"),t("th",{class:"px-6 py-3 text-gray-600 dark:text-gray-200"},"Actions")])],-1),at={class:"divide-y divide-gray-100 dark:divide-gray-700"},ot={class:"px-6 py-4"},nt={class:"font-medium text-gray-900 dark:text-gray-100"},rt={class:"text-sm text-gray-500 dark:text-gray-400 truncate max-w-md"},lt={class:"px-6 py-4"},dt={class:"px-6 py-4 text-gray-500 dark:text-gray-400"},it={class:"px-6 py-4 text-gray-500 dark:text-gray-400"},ct={class:"px-6 py-4"},ut={class:"flex items-center space-x-4"},xt=t("i",{class:"fas fa-edit"},null,-1),_t=["onClick"],gt=t("i",{class:"fas fa-trash"},null,-1),ht=[gt],ft={key:0},yt=t("td",{class:"px-6 py-4 text-center text-gray-500 dark:text-gray-400",colspan:"5"}," No announcements found. ",-1),mt=[yt],pt={class:"p-6"},vt=t("h2",{class:"text-lg font-medium text-gray-900 dark:text-gray-100"}," Delete Announcement ",-1),kt=t("p",{class:"mt-1 text-sm text-gray-600 dark:text-gray-400"}," Are you sure you want to delete this announcement? This action cannot be undone. ",-1),bt={class:"mt-6 flex justify-end space-x-4"},Tt={__name:"Index",props:{announcements:Object,filters:{type:Object,default:()=>({search:"",status:""})}},setup(l){const p=l,x=n(p.filters.search),_=n(p.filters.status),g=n(!1),h=n(null),d=n(!1);function v(){D.get(route("admin.announcements.index"),{search:x.value,status:_.value},{preserveState:!0,replace:!0})}function S(a){h.value=a,g.value=!0}function j(){d.value=!0,D.delete(route("admin.announcements.destroy",h.value.id),{onSuccess:()=>{f()},onFinish:()=>{d.value=!1}})}function f(){g.value=!1,h.value=null}function k(a){return a?P(new Date(a),"MMM dd, yyyy HH:mm"):""}return(a,i)=>(c(),u(b,null,[s(y(M),{title:"Announcements"}),s(O,null,{header:o(()=>[U]),default:o(()=>[t("div",z,[t("div",E,[t("div",L,[t("div",Z,[t("div",q,[t("div",G,[t("div",J,[w(t("input",{"onUpdate:modelValue":i[0]||(i[0]=e=>x.value=e),type:"text",placeholder:"Search announcements...",class:"border rounded-lg px-4 py-2 w-full sm:w-80 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300",onInput:v},null,544),[[V,x.value]])]),t("div",K,[w(t("select",{"onUpdate:modelValue":i[1]||(i[1]=e=>_.value=e),class:"border rounded-lg px-4 py-2 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-300",onChange:v},X,544),[[$,_.value]])])]),s(y(A),{href:a.route("admin.announcements.create"),class:"px-4 py-2 bg-indigo-500 hover:bg-indigo-600 text-white rounded-lg inline-flex items-center justify-center"},{default:o(()=>[Y,m(" Create Announcement ")]),_:1},8,["href"])]),t("div",tt,[t("table",et,[st,t("tbody",at,[(c(!0),u(b,null,N(l.announcements.data,e=>(c(),u("tr",{key:e.id,class:"hover:bg-gray-50 dark:hover:bg-gray-700"},[t("td",ot,[t("div",nt,r(e.title),1),t("div",rt,r(e.content),1)]),t("td",lt,[t("span",{class:C([{"bg-green-100 text-green-800 dark:bg-green-800 dark:text-green-100":e.status==="published","bg-yellow-100 text-yellow-800 dark:bg-yellow-800 dark:text-yellow-100":e.status==="draft"},"px-3 py-1 rounded-full text-xs font-medium"])},r(e.status),3)]),t("td",dt,r(k(e.published_at)),1),t("td",it,r(k(e.created_at)),1),t("td",ct,[t("div",ut,[s(y(A),{href:a.route("admin.announcements.edit",e.id),class:"text-indigo-600 hover:text-indigo-900 dark:text-indigo-400 dark:hover:text-indigo-300"},{default:o(()=>[xt]),_:2},1032,["href"]),t("button",{onClick:wt=>S(e),class:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300"},ht,8,_t)])])]))),128)),l.announcements.data.length===0?(c(),u("tr",ft,mt)):T("",!0)])])]),s(B,{links:l.announcements.links,class:"mt-6"},null,8,["links"])])])])]),s(F,{show:g.value,onClose:f},{default:o(()=>[t("div",pt,[vt,kt,t("div",bt,[s(H,{onClick:f},{default:o(()=>[m("Cancel")]),_:1}),s(I,{class:C(["ml-3",{"opacity-25":d.value}]),disabled:d.value,onClick:j},{default:o(()=>[m(" Delete Announcement ")]),_:1},8,["class","disabled"])])])]),_:1},8,["show"])]),_:1})],64))}};export{Tt as default};
